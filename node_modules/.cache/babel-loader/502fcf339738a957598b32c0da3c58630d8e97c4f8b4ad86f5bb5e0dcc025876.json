{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport { v4 as uuidv4 } from 'uuid';\nconst initialState = {\n  constructorIngredient: []\n};\nconst constructorSlice = createSlice({\n  name: 'ingredient',\n  initialState,\n  reducers: {\n    addIngredient: {\n      reducer: (state, action) => {\n        if (action.payload.type === 'bun' && state.constructorIngredient.map(ingredient => ingredient.type === \"bun\")) {\n          state.constructorIngredient = state.constructorIngredient.filter(ingredient => ingredient.type !== 'bun');\n        }\n        state.constructorIngredient.push(action.payload);\n      },\n      prepare: payload => {\n        return {\n          payload: {\n            ingredientId: uuidv4()\n          }\n        };\n      }\n    },\n    removeIngredient: (state, action) => {\n      state.constructorIngredient = state.constructorIngredient.filter(ingredient => ingredient._id !== action.payload);\n    }\n  }\n});\nexport default constructorSlice.reducer;\nexport const {\n  addIngredient,\n  removeIngredient\n} = constructorSlice.actions;","map":{"version":3,"names":["createSlice","v4","uuidv4","initialState","constructorIngredient","constructorSlice","name","reducers","addIngredient","reducer","state","action","payload","type","map","ingredient","filter","push","prepare","ingredientId","removeIngredient","_id","actions"],"sources":["/Users/alina/practicum/stellar-burgers/src/services/constructorSlice.js"],"sourcesContent":["import {createSlice} from \"@reduxjs/toolkit\";\nimport { v4 as uuidv4} from 'uuid';\n\nconst initialState = {\n    constructorIngredient: []\n};\n\nconst constructorSlice = createSlice({\n    name: 'ingredient',\n    initialState,\n    reducers: {\n        addIngredient: {\n            reducer: (state,action) => {\n            if (action.payload.type === 'bun' && state.constructorIngredient.map((ingredient) => ingredient.type === \"bun\")) {\n                state.constructorIngredient = state.constructorIngredient.filter((ingredient) => ingredient.type !== 'bun')\n            }\n\n            state.constructorIngredient.push(action.payload);\n        },\n            prepare: (payload) => {\n                return {\n                    payload: {\n                        ingredientId: uuidv4(),\n                    },\n                };\n            },\n        },\n        removeIngredient: (state,action) => {\n            state.constructorIngredient = state.constructorIngredient.filter((ingredient) => ingredient._id !== action.payload);\n        },\n    }\n})\n\nexport default constructorSlice.reducer;\nexport const {addIngredient, removeIngredient} = constructorSlice.actions;"],"mappings":"AAAA,SAAQA,WAAW,QAAO,kBAAkB;AAC5C,SAASC,EAAE,IAAIC,MAAM,QAAO,MAAM;AAElC,MAAMC,YAAY,GAAG;EACjBC,qBAAqB,EAAE;AAC3B,CAAC;AAED,MAAMC,gBAAgB,GAAGL,WAAW,CAAC;EACjCM,IAAI,EAAE,YAAY;EAClBH,YAAY;EACZI,QAAQ,EAAE;IACNC,aAAa,EAAE;MACXC,OAAO,EAAEA,CAACC,KAAK,EAACC,MAAM,KAAK;QAC3B,IAAIA,MAAM,CAACC,OAAO,CAACC,IAAI,KAAK,KAAK,IAAIH,KAAK,CAACN,qBAAqB,CAACU,GAAG,CAAEC,UAAU,IAAKA,UAAU,CAACF,IAAI,KAAK,KAAK,CAAC,EAAE;UAC7GH,KAAK,CAACN,qBAAqB,GAAGM,KAAK,CAACN,qBAAqB,CAACY,MAAM,CAAED,UAAU,IAAKA,UAAU,CAACF,IAAI,KAAK,KAAK,CAAC;QAC/G;QAEAH,KAAK,CAACN,qBAAqB,CAACa,IAAI,CAACN,MAAM,CAACC,OAAO,CAAC;MACpD,CAAC;MACGM,OAAO,EAAGN,OAAO,IAAK;QAClB,OAAO;UACHA,OAAO,EAAE;YACLO,YAAY,EAAEjB,MAAM;UACxB;QACJ,CAAC;MACL;IACJ,CAAC;IACDkB,gBAAgB,EAAEA,CAACV,KAAK,EAACC,MAAM,KAAK;MAChCD,KAAK,CAACN,qBAAqB,GAAGM,KAAK,CAACN,qBAAqB,CAACY,MAAM,CAAED,UAAU,IAAKA,UAAU,CAACM,GAAG,KAAKV,MAAM,CAACC,OAAO,CAAC;IACvH;EACJ;AACJ,CAAC,CAAC;AAEF,eAAeP,gBAAgB,CAACI,OAAO;AACvC,OAAO,MAAM;EAACD,aAAa;EAAEY;AAAgB,CAAC,GAAGf,gBAAgB,CAACiB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}