{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport { postOrderRequest } from \"../utils/Api\";\nconst initialState = {\n  order: null,\n  loading: true,\n  error: null\n};\nconst sliceName = 'orderDetails';\nexport const postOrderResult = createAsyncThunk(`orderDetails/postOrderResult`, async (ingredients, _ref) => {\n  let {\n    rejectWithValue,\n    fulfillWithValue\n  } = _ref;\n  try {\n    const response = await postOrderRequest(ingredients);\n    if (!response.ok) {\n      return rejectWithValue({\n        message: `Ошибка при загрузке данных: ${response.status}`\n      });\n    }\n    const data = await response.json();\n    return fulfillWithValue(data);\n  } catch (error) {\n    return rejectWithValue({\n      message: `Ошибка при загрузке данных: ${error.message}`\n    });\n  }\n});\nexport const orderDetailsSlice = createSlice({\n  name: sliceName,\n  initialState,\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(postOrderResult.pending, state => {\n      state.loading = true;\n      state.error = null;\n    }).addCase(postOrderResult.fulfilled, (state, action) => {\n      state.loading = false;\n      state.order = action.payload.order;\n      state.error = null;\n    }).addCase(postOrderResult.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.error.message;\n      state.order = null;\n    });\n  }\n});\nexport default orderDetailsSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","postOrderRequest","initialState","order","loading","error","sliceName","postOrderResult","ingredients","_ref","rejectWithValue","fulfillWithValue","response","ok","message","status","data","json","orderDetailsSlice","name","reducers","extraReducers","builder","addCase","pending","state","fulfilled","action","payload","rejected","reducer"],"sources":["/Users/alina/practicum/stellar-burgers/src/services/orderDetailsSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport {postOrderRequest} from \"../utils/Api\";\n\nconst initialState = {\n    order: null,\n    loading: true,\n    error: null\n};\n\nconst sliceName = 'orderDetails';\n\nexport const postOrderResult = createAsyncThunk(\n    `orderDetails/postOrderResult`,\n    async (ingredients, { rejectWithValue, fulfillWithValue }) => {\n        try {\n            const response = await postOrderRequest(ingredients);\n\n            if (!response.ok) {\n                return rejectWithValue({ message: `Ошибка при загрузке данных: ${response.status}` });\n            }\n\n            const data = await response.json();\n            return fulfillWithValue(data);\n        } catch (error) {\n            return rejectWithValue({ message: `Ошибка при загрузке данных: ${error.message}` });\n        }\n    }\n);\n\nexport const orderDetailsSlice = createSlice({\n    name: sliceName,\n    initialState,\n    reducers: {},\n    extraReducers: builder => {\n        builder\n            .addCase(postOrderResult.pending, state => {\n                state.loading = true;\n                state.error = null;\n            })\n\n            .addCase(postOrderResult.fulfilled, (state, action) => {\n                state.loading = false;\n                state.order = action.payload.order;\n                state.error = null;\n            })\n\n            .addCase(postOrderResult.rejected, (state, action) => {\n                state.loading = false;\n                state.error = action.error.message;\n                state.order = null;\n            });\n    }\n});\n\nexport default orderDetailsSlice.reducer;"],"mappings":"AAAA,SAASA,WAAW,EAAEC,gBAAgB,QAAQ,kBAAkB;AAChE,SAAQC,gBAAgB,QAAO,cAAc;AAE7C,MAAMC,YAAY,GAAG;EACjBC,KAAK,EAAE,IAAI;EACXC,OAAO,EAAE,IAAI;EACbC,KAAK,EAAE;AACX,CAAC;AAED,MAAMC,SAAS,GAAG,cAAc;AAEhC,OAAO,MAAMC,eAAe,GAAGP,gBAAgB,CAC1C,8BAA6B,EAC9B,OAAOQ,WAAW,EAAAC,IAAA,KAA4C;EAAA,IAA1C;IAAEC,eAAe;IAAEC;EAAiB,CAAC,GAAAF,IAAA;EACrD,IAAI;IACA,MAAMG,QAAQ,GAAG,MAAMX,gBAAgB,CAACO,WAAW,CAAC;IAEpD,IAAI,CAACI,QAAQ,CAACC,EAAE,EAAE;MACd,OAAOH,eAAe,CAAC;QAAEI,OAAO,EAAG,+BAA8BF,QAAQ,CAACG,MAAO;MAAE,CAAC,CAAC;IACzF;IAEA,MAAMC,IAAI,GAAG,MAAMJ,QAAQ,CAACK,IAAI,EAAE;IAClC,OAAON,gBAAgB,CAACK,IAAI,CAAC;EACjC,CAAC,CAAC,OAAOX,KAAK,EAAE;IACZ,OAAOK,eAAe,CAAC;MAAEI,OAAO,EAAG,+BAA8BT,KAAK,CAACS,OAAQ;IAAE,CAAC,CAAC;EACvF;AACJ,CAAC,CACJ;AAED,OAAO,MAAMI,iBAAiB,GAAGnB,WAAW,CAAC;EACzCoB,IAAI,EAAEb,SAAS;EACfJ,YAAY;EACZkB,QAAQ,EAAE,CAAC,CAAC;EACZC,aAAa,EAAEC,OAAO,IAAI;IACtBA,OAAO,CACFC,OAAO,CAAChB,eAAe,CAACiB,OAAO,EAAEC,KAAK,IAAI;MACvCA,KAAK,CAACrB,OAAO,GAAG,IAAI;MACpBqB,KAAK,CAACpB,KAAK,GAAG,IAAI;IACtB,CAAC,CAAC,CAEDkB,OAAO,CAAChB,eAAe,CAACmB,SAAS,EAAE,CAACD,KAAK,EAAEE,MAAM,KAAK;MACnDF,KAAK,CAACrB,OAAO,GAAG,KAAK;MACrBqB,KAAK,CAACtB,KAAK,GAAGwB,MAAM,CAACC,OAAO,CAACzB,KAAK;MAClCsB,KAAK,CAACpB,KAAK,GAAG,IAAI;IACtB,CAAC,CAAC,CAEDkB,OAAO,CAAChB,eAAe,CAACsB,QAAQ,EAAE,CAACJ,KAAK,EAAEE,MAAM,KAAK;MAClDF,KAAK,CAACrB,OAAO,GAAG,KAAK;MACrBqB,KAAK,CAACpB,KAAK,GAAGsB,MAAM,CAACtB,KAAK,CAACS,OAAO;MAClCW,KAAK,CAACtB,KAAK,GAAG,IAAI;IACtB,CAAC,CAAC;EACV;AACJ,CAAC,CAAC;AAEF,eAAee,iBAAiB,CAACY,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}