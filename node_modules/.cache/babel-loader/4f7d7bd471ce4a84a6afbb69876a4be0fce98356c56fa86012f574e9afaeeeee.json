{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport { postOrderRequest } from \"../utils/Api\";\nconst initialState = {\n  orderNumber: 0,\n  isLoading: true,\n  error: ''\n};\nexport const fetchOrderResult = createAsyncThunk(`orderSet`, async (ingredients, _ref) => {\n  let {\n    rejectWithValue,\n    fulfillWithValue\n  } = _ref;\n  try {\n    const response = await postOrderRequest(ingredients);\n    if (!response.ok) {\n      return rejectWithValue({\n        message: `Ошибка при загрузке данных: ${response.status}`\n      });\n    }\n    const data = await response.json();\n    return fulfillWithValue(data);\n  } catch (error) {\n    return rejectWithValue({\n      message: `Ошибка при загрузке данных: ${error.message}`\n    });\n  }\n});\nexport const orderDetailsSlice = createSlice({\n  name: orderDetails,\n  initialState,\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(fetchOrderResult.pending, state => {\n      state.isLoading = true;\n      state.error = '';\n    }).addCase(fetchOrderResult.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.orderNumber = action.payload.order;\n      state.error = '';\n    }).addCase(fetchOrderResult.rejected, (state, action) => {\n      state.isLoading = false;\n      state.error = action.error.message;\n      state.orderNumber = 0;\n    });\n  }\n});\nexport default orderDetailsSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","postOrderRequest","initialState","orderNumber","isLoading","error","fetchOrderResult","ingredients","_ref","rejectWithValue","fulfillWithValue","response","ok","message","status","data","json","orderDetailsSlice","name","orderDetails","reducers","extraReducers","builder","addCase","pending","state","fulfilled","action","payload","order","rejected","reducer"],"sources":["/Users/alina/practicum/stellar-burgers/src/services/orderDetailsSlice.js"],"sourcesContent":["import {createAsyncThunk, createSlice} from '@reduxjs/toolkit';\nimport {postOrderRequest} from \"../utils/Api\";\n\nconst initialState = {\n    orderNumber: 0,\n    isLoading: true,\n    error: ''\n};\n\nexport const fetchOrderResult = createAsyncThunk(\n    `orderSet`,\n    async (ingredients, { rejectWithValue, fulfillWithValue }) => {\n        try {\n            const response = await postOrderRequest(ingredients);\n\n            if (!response.ok) {\n                return rejectWithValue({ message: `Ошибка при загрузке данных: ${response.status}` });\n            }\n\n            const data = await response.json();\n            return fulfillWithValue(data);\n        } catch (error) {\n            return rejectWithValue({ message: `Ошибка при загрузке данных: ${error.message}` });\n        }\n    }\n);\n\nexport const orderDetailsSlice = createSlice({\n    name: orderDetails,\n    initialState,\n    reducers: {},\n    extraReducers: builder => {\n        builder\n            .addCase(fetchOrderResult.pending, state => {\n                state.isLoading = true;\n                state.error = '';\n            })\n\n            .addCase(fetchOrderResult.fulfilled, (state, action) => {\n                state.isLoading = false;\n                state.orderNumber = action.payload.order;\n                state.error = '';\n            })\n\n            .addCase(fetchOrderResult.rejected, (state, action) => {\n                state.isLoading = false;\n                state.error = action.error.message;\n                state.orderNumber = 0;\n            });\n    }\n});\n\nexport default orderDetailsSlice.reducer;"],"mappings":"AAAA,SAAQA,gBAAgB,EAAEC,WAAW,QAAO,kBAAkB;AAC9D,SAAQC,gBAAgB,QAAO,cAAc;AAE7C,MAAMC,YAAY,GAAG;EACjBC,WAAW,EAAE,CAAC;EACdC,SAAS,EAAE,IAAI;EACfC,KAAK,EAAE;AACX,CAAC;AAED,OAAO,MAAMC,gBAAgB,GAAGP,gBAAgB,CAC3C,UAAS,EACV,OAAOQ,WAAW,EAAAC,IAAA,KAA4C;EAAA,IAA1C;IAAEC,eAAe;IAAEC;EAAiB,CAAC,GAAAF,IAAA;EACrD,IAAI;IACA,MAAMG,QAAQ,GAAG,MAAMV,gBAAgB,CAACM,WAAW,CAAC;IAEpD,IAAI,CAACI,QAAQ,CAACC,EAAE,EAAE;MACd,OAAOH,eAAe,CAAC;QAAEI,OAAO,EAAG,+BAA8BF,QAAQ,CAACG,MAAO;MAAE,CAAC,CAAC;IACzF;IAEA,MAAMC,IAAI,GAAG,MAAMJ,QAAQ,CAACK,IAAI,EAAE;IAClC,OAAON,gBAAgB,CAACK,IAAI,CAAC;EACjC,CAAC,CAAC,OAAOV,KAAK,EAAE;IACZ,OAAOI,eAAe,CAAC;MAAEI,OAAO,EAAG,+BAA8BR,KAAK,CAACQ,OAAQ;IAAE,CAAC,CAAC;EACvF;AACJ,CAAC,CACJ;AAED,OAAO,MAAMI,iBAAiB,GAAGjB,WAAW,CAAC;EACzCkB,IAAI,EAAEC,YAAY;EAClBjB,YAAY;EACZkB,QAAQ,EAAE,CAAC,CAAC;EACZC,aAAa,EAAEC,OAAO,IAAI;IACtBA,OAAO,CACFC,OAAO,CAACjB,gBAAgB,CAACkB,OAAO,EAAEC,KAAK,IAAI;MACxCA,KAAK,CAACrB,SAAS,GAAG,IAAI;MACtBqB,KAAK,CAACpB,KAAK,GAAG,EAAE;IACpB,CAAC,CAAC,CAEDkB,OAAO,CAACjB,gBAAgB,CAACoB,SAAS,EAAE,CAACD,KAAK,EAAEE,MAAM,KAAK;MACpDF,KAAK,CAACrB,SAAS,GAAG,KAAK;MACvBqB,KAAK,CAACtB,WAAW,GAAGwB,MAAM,CAACC,OAAO,CAACC,KAAK;MACxCJ,KAAK,CAACpB,KAAK,GAAG,EAAE;IACpB,CAAC,CAAC,CAEDkB,OAAO,CAACjB,gBAAgB,CAACwB,QAAQ,EAAE,CAACL,KAAK,EAAEE,MAAM,KAAK;MACnDF,KAAK,CAACrB,SAAS,GAAG,KAAK;MACvBqB,KAAK,CAACpB,KAAK,GAAGsB,MAAM,CAACtB,KAAK,CAACQ,OAAO;MAClCY,KAAK,CAACtB,WAAW,GAAG,CAAC;IACzB,CAAC,CAAC;EACV;AACJ,CAAC,CAAC;AAEF,eAAec,iBAAiB,CAACc,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}